



<%- include("../includes/head")%>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
<link rel="stylesheet" href="/css/font-awesome.min.css">

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    
</head>
<body>
    <% if(message.length>0) {%>
        <div class="alert alert-success"><%= message %></div>
   <% } %> 
    <table id="example" class="display" style="width:100%" data-show-columns="true">
        <thead>
            <tr>
                <th>Nom_user</th>
                <th>Prenom_user</th>
                <th>username</th>
                <th>Fonction</th>
                <th>Droit</th>
                <th>Statut</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <% user.forEach(element =>{ %> 
            <tr>
                <td><%= element.nom_user %></td>
                <td><%= element.prenom_user %></td>
                <td><%= element.username %></td>
                <td> <%= element.fonction %></td>
                <td><%= element.droit %></td>
                <td> <%= element.statut %></td>
                <td><a href="/user/edit_user/<%= element.username %>"><i class="fa fa-edit"></i></a> <a  href="#" data-toggle="modal" data-target="#<%= element.id %>"><i class="fa fa-trash"></i></a></td>
                <div id="<%= element.id %>" class="modal modal-edu-general FullColor-popup-DangerModal fade" role="dialog">
                    <div class="modal-dialog">
                        <div class="modal-content">
                           
                              
                                <div class="modal-close-area modal-close-df">
                                    <a class="close" data-dismiss="modal" href="#"><i class="fa fa-close"></i></a>
                                </div>
                  
                            <div class="modal-body">
                                <i class="educate-icon educate-danger modal-check-pro information-icon-pro"></i>
                                <h2><%= element.nom_user %> <%= element.prenom_user %></h2>
                                
                                <p>Voulez-vous vraiment Supprimer</p>
                            </div>
                            <div class="modal-footer footer-modal-admin">
                                <a data-dismiss="modal" href="#">Cancel</a>
                                <a class="bg-danger" href="/user/table_users/<%= element.username %>">Supprimer</a>
                            </div>
                        </div>
                    </div>
                </div>
            </tr>
            
            <% }) %>
        </tbody>
        <tfoot>
            <tr>
                <th>Nom_user</th>
                <th>Prenom_user</th>
                <th>username</th>
                <th>Fonction</th>
                <th>Droit</th>
                <th>Statut</th>
            </tr>
        </tfoot>
    </table>
<a href="/index"> <button class="btn btn-primary">Retour Ã  la Page d'Accueil</button></a>
   

 <script>
    $(document).ready(function() {
  var printCounter = 0;

  // Append a caption to the table before the DataTables initialisation
  $('#example').append('<caption style="caption-side: bottom">A fictional company\'s staff table.</caption>');

  $('#example').DataTable( {
      dom: 'Bfrtip',
      buttons: [
          'copy',
          {
              extend: 'excel',
              messageTop: 'The information in this table is copyright to Sirius Cybernetics Corp.'
          },
          {
              extend: 'pdf',
              messageBottom: null
          },
          {
              extend: 'print',
       
              messageBottom: null
          }
      ]
  } );
} );


</script>
<script src="/js/vendor/jquery-1.12.4.min.js"></script>
 <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
 <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
 <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
 <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>
 <script src="/js/bootstrap.min.js"></script>

 
</body>
</html>
